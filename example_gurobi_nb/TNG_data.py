import numpy as np

# Inventory at period 1.
FleetSize = 470;
Inventory_Start = 119;

# The *daily* rate for each lease type in every period 1-50.
Price1 = np.array([26.00, 29.00, 30.50, 27.50, 29.00, 27.50, 27.50, 29.00, 35.00, 35.00,
		  36.50, 35.00, 35.00, 41.00, 42.50, 45.50, 47.00, 44.00, 45.50, 42.50, 
		  41.00, 41.00, 35.00, 35.00, 30.50, 29.00, 32.00, 35.00, 35.00, 35.00,
		  32.00, 36.50, 35.00, 32.00, 39.50, 42.50, 47.00, 47.00, 50.00, 51.50, 
		  60.50, 57.50, 57.50, 47.00, 47.00, 38.00, 36.50, 35.00, 35.00, 35.00 ]);

Price4 = np.array([23.40, 26.10, 27.45, 24.75, 26.10, 24.75, 24.75, 26.10, 31.50, 31.50, 
		  32.85, 31.50, 31.50, 36.90, 38.25, 40.95, 42.30, 39.60, 40.95, 38.25, 
		  36.90, 36.90, 31.50, 31.50, 27.45, 26.10, 28.80, 31.50, 31.50, 31.50, 
		  28.80, 32.85, 31.50, 28.80, 35.55, 38.25, 42.30, 42.30, 45.00, 46.35, 
		  54.45, 51.75, 51.75, 42.30, 42.30, 34.20, 32.85, 31.50, 31.50, 31.50 ]);

Price8 = np.array([22.10, 24.65, 25.93, 23.38, 24.65, 23.38, 23.38, 24.65, 29.75, 29.75, 
		  31.03, 29.75, 29.75, 34.85, 36.13, 38.68, 39.95, 37.40, 38.68, 36.13,
		  34.85, 34.85, 29.75, 29.75, 25.93, 24.65, 27.20, 29.75, 29.75, 29.75, 
		  27.20, 31.03, 29.75, 27.20, 33.58, 36.13, 39.95, 39.95, 42.50, 43.78,
		  51.43, 48.88, 48.88, 39.95, 39.95, 32.30, 31.03, 29.75, 29.75, 29.75 ]);

Price16 = np.array([20.80, 23.20, 24.40, 22.00, 23.20, 22.00, 22.00, 23.20, 28.00, 28.00, 
		   29.20, 28.00, 28.00, 32.80, 34.00, 36.40, 37.60, 35.20, 36.40, 34.00, 
		   32.80, 32.80, 28.00, 28.00, 24.40, 23.20, 25.60, 28.00, 28.00, 28.00, 
		   25.60, 29.20, 28.00, 25.60, 31.60, 34.00, 37.60, 37.60, 40.00, 41.20, 
		   48.40, 46.00, 46.00, 37.60, 37.60, 30.40, 29.20, 28.00, 28.00, 28.00 ]);

# The *TRUE* demand for each lease type in every period 1-50
Demand1 = np.array([ 9, 15, 11,  9, 13,  9, 13,  6, 22, 24,
		   26, 27, 28, 28, 36, 27, 34, 31, 36, 32, 
		    4, 26, 30, 23, 10, 16, 21, 19, 21, 16, 
		   17, 24, 20, 21, 22, 33, 39, 35, 42, 57, 
		   55, 47, 50, 46, 42, 30, 24, 27, 16, 20 ]);

Demand4 = np.array([10,  3,  7, 10,  6, 11, 13, 14, 18, 14,
		   25, 17, 19, 12, 27, 17, 21, 22, 30, 24, 
		   23, 23, 12, 20, 12, 15, 12, 21, 16, 14,
		   17, 15, 23, 12, 24, 26, 25, 32, 21, 41, 
		   29, 27, 23, 18, 22, 10, 15, 16, 15, 19 ]);

Demand8 = np.array([10,  8,  7,  8,  6, 12, 10, 18, 22, 24,
		   19, 19, 13, 15, 24, 16, 22,  9, 22,  8, 
		   14, 15, 14, 15,  9,  6, 11, 13, 15, 15, 
		   12, 22, 18, 21, 25, 21, 31, 17, 12,  9,
		   18, 10, 23, 11,  9, 15, 15, 17, 14,  7 ]);

Demand16 = np.array([ 8, 13, 15, 19, 17, 22, 26, 13, 18, 20, 
 		     7, 15, 11, 17,  7, 11, 15, 17, 10, 10, 
 		    22, 12, 15, 12, 26, 28, 17, 20, 12, 14, 
 		    25, 19, 28, 11, 24, 17, 12, 15, 12, 16, 
 		    12, 12, 10,  9, 16,  6, 19,  9, 13,  8 ]);

# The number of leases of each type, accepted before period 1, and being returned in periods 1-50
OldReturn1  = np.array([2])
OldReturn4  = np.array([17, 11, 17, 10])
OldReturn8  = np.array([12, 16, 12, 21, 9, 10, 7, 3])
OldReturn16 = np.array([11, 12, 15, 17, 15, 12, 21, 14, 7, 9, 12, 15, 9, 16, 10, 9])

# TNG's actual # of leases accepted of each type in periods 1-50
TNG_Accept1 = np.array([ 9, 15, 11,  9, 13,  9, 13,  6, 22, 24, 
			   26, 27, 24, 23, 14, 20, 19, 23, 23, 32, 
			   26, 26, 30, 23, 10, 16, 21, 19, 21, 16, 
			   17, 24, 13,  7,  0,  0,  0,  0,  0,  0,
			    5, 19, 30, 33, 42, 30, 24, 27, 16, 20 ]);

TNG_Accept4 = np.array([10,  3,  7, 10,  6, 11, 13, 14, 18, 14, 
			   25, 17, 19, 12, 26, 16, 18, 22, 29, 24,
			   22, 23, 12, 20, 12, 15, 12, 21, 16, 14,
			   17, 15, 20, 11,  0,  2, 15, 11,  5, 14, 
			   27, 27, 17, 17, 22, 10, 15, 16, 15, 19 ]);

TNG_Accept8 = np.array([10,  8,  7,  8,  6, 12, 10, 18, 22, 24, 
			   19, 19, 10, 15, 22, 14, 19,  8, 22,  8, 
			   12, 15, 14, 15,  9,  6, 11, 13, 15, 15, 
			   12, 22, 17, 20, 23, 19, 30, 15, 11,  8,
			   16,  7, 10, 10,  9, 15, 15, 17, 14,  7 ]);

TNG_Accept16 = np.array([ 8, 13, 15, 19, 17, 22, 26, 13, 18, 20, 
				 7, 15,  9, 16,  6,  8, 13, 15,  9, 10, 
				20, 12, 15, 12, 26, 28, 17, 20, 12, 14, 
				25, 19, 26, 10, 21, 17, 10, 12, 11, 14,
				10, 11,  7,  6, 16,  6, 19,  9, 13,  8 ]);

# YOU DO NOT NEED TO UNDERSTAND THE FOLLOWING CODE. 
# It's just ugly indexing. All it's doing is computing the
# <total number of trucks that were in demand in period t>.
import numpy as np
TotalInDemand = np.zeros(50, dtype=int)
for t in range(0,50):
    TotalInDemand[t] += Demand1[t]
    TotalInDemand[t:min(t+4,50)] += Demand4[t]
    TotalInDemand[t:min(t+8,50)] += Demand8[t]
    TotalInDemand[t:min(t+16,50)] += Demand16[t]    
for t in range(1,4):
    TotalInDemand[0:t+1] += OldReturn4[t]
for t in range(1,8):
    TotalInDemand[0:t+1] += OldReturn8[t]
for t in range(1,16):
    TotalInDemand[0:t+1] += OldReturn16[t]